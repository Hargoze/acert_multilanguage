# Migration `20201008084356-add-section`

This migration has been generated by Hargoze at 10/8/2020, 10:43:57 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Button" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT NOT NULL,
    "type" INTEGER NOT NULL,
    "href" TEXT NOT NULL,
    "file" TEXT NOT NULL
)

CREATE TABLE "Section" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "title" TEXT NOT NULL,
    "content" TEXT NOT NULL,
    "color" TEXT NOT NULL DEFAULT 'black',
    "style" TEXT,
    "Image" TEXT,
    "link" TEXT,
    "href" TEXT,
    "link_color" TEXT,
    "background" TEXT,
    "ps" TEXT,
    "ps_posititon" BOOLEAN DEFAULT true,
    "ps_color" TEXT
)

CREATE TABLE "_ButtonToSection" (
    "A" INTEGER NOT NULL,
    "B" INTEGER NOT NULL,

    FOREIGN KEY ("A") REFERENCES "Button"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "Section"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

CREATE UNIQUE INDEX "_ButtonToSection_AB_unique" ON "_ButtonToSection"("A", "B")

CREATE INDEX "_ButtonToSection_B_index" ON "_ButtonToSection"("B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201005133305-add-last-update..20201008084356-add-section
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -71,5 +71,31 @@
   file String
   summary String
   logo String?
   last_update String @default("October 05, 2020")
+}
+
+model Button {
+  id    Int     @default(autoincrement()) @id
+  section  Section[] @relation(references: [id])
+  name String
+  type Int
+  href String
+  file String
+}
+
+model Section {
+  id    Int     @default(autoincrement()) @id
+  buttons Button[] @relation(references: [id])
+  title String
+  content String
+  color String @default("black")
+  style String?
+  Image String?
+  link String?
+  href String?
+  link_color String?
+  background String?
+  ps String?
+  ps_posititon Boolean? @default(true)
+  ps_color String?
 }
```


